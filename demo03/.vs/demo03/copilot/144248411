0{"DateTime":"2023-11-22T02:48:26.9982645Z","Version":0,"CopilotSessionId":{"Guid":"5badeaf6-ef81-4a47-9096-4718f45c087e","ClientId":{"Id":"Microsoft.VisualStudio.Conversations.Chat.HelpWindow"}},"Request":{"Prompt":"Fix the selected code","Context":{"VisibleDocuments":[],"PreSelectedSkill":null,"CorrelationId":{"Guid":"00000000-0000-0000-0000-000000000000"}}},"Response":{"Content":"\u0060\u0060\u0060C\u002B\u002B\n#include \u003Cstdio.h\u003E\n#include \u003Ceasyx.h\u003E\n#include \u003Cconio.h\u003E\n\n#pragma warning(disable:4996)\n\n#define WIDTH 960\n#define HEIGHT 540\n\nIMAGE temp_img, bk_img,\n      loading[56];\n\nvoid loadLoadingRes(void);\n\nvoid drawAlpha(IMAGE* dstimg, int x, int y, IMAGE* srcimg);\n\nvoid showLoadingRes(void);\n\nint main(void)\n{\n\tinitgraph(WIDTH, HEIGHT);\n\tloadLoadingRes();\n\tshowLoadingRes();\n\t_getch();\n\tclosegraph();\n\treturn 0;\n}\n\nvoid loadLoadingRes(void)\n{\n    loadimage(\u0026temp_img, _T(\u0022./Texture/Loading/bgblack.png\u0022));\n    loadimage(\u0026bk_img, _T(\u0022./Texture/Loading/bgblack.png\u0022));\n    char a[200];\n    int i = 0;\n    for (; i \u003C 56; i\u002B\u002B)\n    {\n        sprintf(a, \u0022./Texture/Loading/loadimages-%03d.png\u0022, i \u002B 1);\n        loadimage(\u0026loading[i], _T(a));\n    }\n}\n\nvoid showLoadingRes(void)\n{\n    for (int i = 0; i \u003C 56; i\u002B\u002B)\n    {\n        drawAlpha(\u0026temp_img, 0, 0, \u0026bk_img);\n        drawAlpha(\u0026temp_img, 300, 200, \u0026loading[i]);\n        putimage(0, 0, \u0026temp_img);\n        Sleep(100);\n    }\n}\n\nvoid drawAlpha(IMAGE* dstimg, int x, int y, IMAGE* srcimg)\n{\n    DWORD* dst = GetImageBuffer(dstimg);\n    DWORD* src = GetImageBuffer(srcimg);\n    int src_width = srcimg-\u003Egetwidth();\n    int src_height = srcimg-\u003Egetheight();\n    int dst_width = (dstimg == NULL ? getwidth() : dstimg-\u003Egetwidth());\n    int dst_height = (dstimg == NULL ? getheight() : dstimg-\u003Egetheight());\n\n    int iwidth = (x \u002B src_width \u003E dst_width) ? dst_width - x : src_width;\n    int iheight = (y \u002B src_height \u003E dst_height) ? dst_height - y : src_height;\n    if (x \u003C 0) { src \u002B= -x;\t\t\t\tiwidth -= -x;\tx = 0; }\n    if (y \u003C 0) { src \u002B= src_width * -y;\tiheight -= -y;\ty = 0; }\n\n    dst \u002B= dst_width * y \u002B x;\n\n    for (int iy = 0; iy \u003C iheight; \u002B\u002Biy)\n    {\n        for (int i = 0; i \u003C iwidth; \u002B\u002Bi)\n        {\n            int sa = ((src[i] \u0026 0xff000000) \u003E\u003E 24);\n            if (sa != 0)\n            {\n                if (sa == 255)\n                    dst[i] = src[i];\n                else\n                    dst[i] = ((((src[i] \u0026 0xff0000) \u003E\u003E 16) \u002B ((dst[i] \u0026 0xff0000) \u003E\u003E 16) * (255 - sa) / 255) \u003C\u003C 16) | ((((src[i] \u0026 0xff00) \u003E\u003E 8) \u002B ((dst[i] \u0026 0xff00) \u003E\u003E 8) * (255 - sa) / 255) \u003C\u003C 8) | ((src[i] \u0026 0xff) \u002B (dst[i] \u0026 0xff) * (255 - sa) / 255);\n            }\n        }\n        dst \u002B= dst_width;\n        src \u002B= src_width;\n    }\n}\n\u0060\u0060\u0060","Type":1,"Status":1,"FollowUpPrompts":null},"SelectedFunctionName":"Fix","LoggedSkillInvocations":null}
